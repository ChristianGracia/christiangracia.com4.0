<app-page-header title="Recently Played"></app-page-header>
<div *ngIf="loadingSongs" class="song-loader">
    <mat-spinner class="spinner" diameter="22" color="accent"></mat-spinner>
</div>
<div class="songs-container">
      <div
        *ngIf="!loadingSongs && songs.length > 0"
        class="table-container mat-elevation-z8"
      >
        <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="images" class="data-item">
            <th mat-header-cell width="20%" *matHeaderCellDef>Images</th>
            <td mat-cell *matCellDef="let element">
                <img
                height="36px"
                width="36px"
                [src]="element.images[0].url"
                alt="{{ element.artist }} album image"
              />
            </td>
        </ng-container>
          <ng-container matColumnDef="name" class="data-item">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element" class="accent-color">
              {{ element.name }}
            </td>
          </ng-container>
          <ng-container matColumnDef="artist" class="data-item">
            <th mat-header-cell *matHeaderCellDef>Artist</th>
            <td mat-cell *matCellDef="let element">{{ element.artist }}</td>
          </ng-container>
          <ng-container matColumnDef="playedAt" class="data-item">
            <th mat-header-cell *matHeaderCellDef>Time</th>
            <td mat-cell *matCellDef="let element">{{ formatDate(element.playedAt) }}</td>
          </ng-container>
          <ng-container matColumnDef="previewUrl" class="data-item">
            <th mat-header-cell *matHeaderCellDef width="20%">Preview</th>
            <td mat-cell *matCellDef="let element">
                <mat-icon class='play-button' (click)='playPreviewOfSong(element)' color="accent" *ngIf="element.previewUrl"> {{!element.isPlaying ? 'play_circle_outline' : 'pause'}}</mat-icon></td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr
            class="clickable"
            mat-row
            *matRowDef="let row; columns: displayedColumns"
          ></tr>
        </table>
        <mat-paginator [pageSize]='10' [pageSizeOptions]="[5, 10, 20, 30]"></mat-paginator>
      </div>
  </div>
  